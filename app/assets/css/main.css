@import 'tailwindcss';
@import '@nuxt/ui';

@theme {
  --font-sans: 'Fira Sans', sans-serif;
  /* --font-sans: 'Andana Pro', sans-serif; */
  /* --font-sans: 'Hanuman', sans-serif; */
  /* --font-sans: 'IBM Plex Serif', sans-serif; */
  /* --font-sans: 'Noto Serif', sans-serif; */
  /* --font-serif: 'Aleo', serif; */
  --font-serif: 'Fira Serif', serif;
  --font-mono: 'Fira Code', sans-serif;
  --breakpoint-3xl: 120rem;
  --breakpoint-4xl: 150rem;
  --breakpoint-5xl: 140rem;

  --heading-padding: 1em;

  --xxxl-min-font-size: 3.375rem;
  --xxxl-max-font-size: 11.313rem;
  --xxxl-preferred-font-size: calc(-0.233rem + 9.621vw);

  /* --xlx-min-font-size: 4.219rem;
  --xlx-max-font-size: 6.313rem;
  --xlx-preferred-font-size: calc(3.267rem + 2.5375vw); */

  --xxl-min-font-size: 5.063em;
  --xxl-max-font-size: 7.563em;
  --xxl-preferred-font-size: calc(3.926rem + 3.03vw);

  /* --xxl-min-font-size: 4.219rem;
  --xxl-max-font-size: 6.313rem;
  --xxl-preferred-font-size: calc(3.267rem + 2.5375vw); */

  --xl-min-font-size: 3.375rem;
  --xl-max-font-size: 5.063rem;
  --xl-preferred-font-size: calc(2.608rem + 2.045vw);

  --lg-min-font-size: 2.25rem;
  --lg-max-font-size: 3.375rem;
  --lg-preferred-font-size: calc(1.739rem + 1.364vw);

  /* FIX: Added 'rem' units to prevent ambiguous calculations and ensure consistency. */
  --md-min-font-size: 1.5rem;
  --md-max-font-size: 2.25rem;
  --md-preferred-font-size: calc(1.159rem + 0.909vw);

  --base-min-font-size: 0.95rem;
  --base-max-font-size: 1.31rem;
  --base-preferred-font-size: calc(0.8rem + 0.49vw);

  --sm-min-font-size: 0.875rem;
  --sm-max-font-size: 0.95rem;
  --sm-preferred-font-size: calc(0.875rem + 0.125vw);

  --ui-easing: cubic-bezier(0.4, 0, 0.2, 1);
  --ui-color-bg: var(--color-neutral-50);
  --ui-color-text-light: oklch(0 0 0 / 65%);
  --ui-color-text: oklch(0 0 0 / 90%);
  --ui-color-text-strong: oklch(0 0 0);
  --ui-color-primary: var(--color-red-500);
  --ui-color-light: oklch(0 0 0 / 10%);
  --ui-color-dark: oklch(0 0 0 / 70%);

  --ui-nav-color-text: oklch(0 0 0 / 80%);
  --ui-nav-color-text-active: var(--ui-nav-color-text);
  --ui-nav-color-text-inv: oklch(0 0 0 / 30%);
  --ui-nav-color-text-inv-active: var(--ui-nav-color-text-inv);
  --ui-nav-color-hover: oklch(0 0 0 / 10%);
  --ui-nav-color-bg: var(--color-white);
  --ui-border-nav: oklch(0 0 0 / 30%);

  --ui-accordion-color-text: var(--ui-color-text);
  --ui-accordion-color-closed: oklch(0 0 0 / 5%);
  --ui-accordion-color-hover: oklch(0 0 0 / 10%);
  --ui-accordion-color-open: oklch(0 0 0 /10%);
}

:root {
  --ui-width-base: 50rem;
  --ui-width-medium: 50rem;
  --ui-width-wide: 80rem;
  --ui-width-default: var(--ui-width-base);
  --ui-width-narrow: 30rem;

  --ui-gap-small: 2rem;
  --ui-gap-medium: 4rem;
  --ui-gap-large: 8rem;

  --ui-itemsize-small: 300;
  --ui-itemsize-medium: 500;
  --ui-itemsize-large: 700;
}

.dark {
  --ui-color-bg: var(--color-stone-950);
  --ui-color-text: var(--color-stone-300);
  --ui-color-primary: var(--color-blue-500);
  --ui-nav-color-text: var(--color-stone-400);
  --ui-nav-color-hover: var(--color-stone-900);
  --ui-nav-color-bg: var(--color-stone-900);
  --ui-color-light: var(--color-stone-900);
  --ui-color-dark: var(--color-stone-100);
  --ui-accordion-color-text: var(--color-stone-900);
  --ui-accordion-color-closed: var(--ui-color-nav-hover);
  --ui-accordion-color-hover: var(--color-stone-100);
  --ui-accordion-color-open: var(--color-orange-200);
}

body {
  color: var(--ui-color-text);
  overflow-x: hidden;
}

.font-serif {
  font-family: var(--font-serif);
}

.font-sans {
  font-family: var(--font-sans);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  padding-bottom: var(--heading-padding);
}

.text-3xl {
  font-size: clamp(
    var(--xxxl-min-font-size),
    var(--xxxl-preferred-font-size),
    var(--xxxl-max-font-size)
  );
  line-height: 0.95;
}

.text-2xl {
  font-size: clamp(
    var(--xxl-min-font-size),
    var(--xxl-preferred-font-size),
    var(--xxl-max-font-size)
  );
  line-height: 1.1;
}

h1,
.text-xl {
  font-size: clamp(
    var(--xl-min-font-size),
    var(--xl-preferred-font-size),
    var(--xl-max-font-size)
  );
  line-height: 1.1; /* TIGHT: Appropriate for the largest heading size. */
}

h2,
.text-lg {
  font-size: clamp(
    var(--lg-min-font-size),
    var(--lg-preferred-font-size),
    var(--lg-max-font-size)
  );
  /* REFACTOR: Looser than h1, creating a clear progression. */
  line-height: 1.2;
}

h3,
.text-md {
  font-size: clamp(
    var(--md-min-font-size),
    var(--md-preferred-font-size),
    var(--md-max-font-size)
  );
  /* REFACTOR: Progressively looser, transitioning towards body copy. */
  line-height: 1.3;
}

h4,
h5,
h6,
p {
  font-size: clamp(
    var(--base-min-font-size),
    var(--base-preferred-font-size),
    var(--base-max-font-size)
  );
  /* OPEN: Optimal for readability in long-form text. */
  line-height: 1.55;

  /*
    KEY REFACTOR: Replaced inconsistent `1em` margin with a fixed `1.5rem`.
    This ensures the vertical space after ANY text element is always the same,
    creating a consistent and predictable rhythm down the page.
  */
  margin-bottom: 1.5rem;

  letter-spacing: 0.005em;
  overflow-wrap: break-word;
  word-wrap: break-word;
  -webkit-hyphens: auto;
  -ms-hyphens: auto;
  hyphens: auto;
}

.text-base {
  font-size: clamp(0.85em, 0.8em + 0.2vw, 1em); /* Smaller base text */
}

p {
  color: var(--ui-color-text-light);
}
p > strong {
  color: var(--ui-color-text-strong);
}
/* Manueller Fix */
.col-span-4 {
  @apply col-span-4;
}

.text-small {
  font-size: clamp(0.75em, 0.7em + 0.1vw, 0.85em);
  line-height: 1.4;
}
/* p {
  font-size: clamp(1.125rem, 1.085rem + 0.2vw, 1.25rem);
} */

[aria-expanded='true'] + [role='menu'] {
  max-height: 50vh !important; /* Adjust based on your needs */
  @apply overflow-y-auto;
}

.card-link-wrapper {
  @apply block;
}

[data-template='interview'] {
  --ui-nav-color-text: var(--ui-nav-color-text-inv);
}

main {
  @apply mt-20 xl:mt-64;
}
[data-template='interview'] main {
  @apply mt-0;
}

.nav-light {
  --ui-nav-color-text: var(--ui-color-light) !important;
}

.nav-dark {
  --ui-nav-color-text: var(--ui-color-dark) !important;
}

/* Blockquote */
blockquote {
  @apply text-4xl text-center text-black italic font-mono font-bold leading-tight mx-16;
}
blockquote footer,
blockquote .author {
  @apply font-normal text-base text-black/50 mt-2 not-italic block;
}

.quote-mark {
  @apply block font-bold text-7xl leading-none mt-0 mb-2 mx-auto select-none;
  /* font-family: inherit; */
  /* margin-bottom: 0; */
}

.quote-mark-row {
  @apply flex items-center justify-center w-full mb-2;
}
.quote-mark-line {
  @apply flex-1 h-px bg-gray-400 mx-3;
}

/* View Transitions */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.5s;
}

::view-transition-old(*),
::view-transition-new(*) {
  animation-duration: 0.8s;
}

::view-transition-old(image-*),
::view-transition-new(image-*) {
  animation-duration: 1s;
}

::view-transition-old(intro-*),
::view-transition-new(intro-*) {
  animation-duration: 0.6s;
}

::view-transition-old(title-*),
::view-transition-new(title-*) {
  animation-duration: 0.7s;
}
/* @style screen and (max-width: 500px) {
  .layout-container {
    overflow: hidden;
  }
} */

.content-teaser-badge {
  @apply absolute top-2 left-2 z-10 bg-black text-white uppercase tracking-wider text-xs font-semibold px-2 py-2 rounded-sm;
}

.content-teaser-heading-inside {
  @apply text-white text-xl font-bold uppercase tracking-wide;
}

.content-teaser-heading-outside {
  @apply text-black text-base font-bold uppercase tracking-wide;
}

.content-teaser-subline-inside {
  @apply text-white/80 text-xl;
}

.content-teaser-subline-outside {
  @apply text-black/80 text-base;
}

.content-teaser-meta-inside {
  @apply text-white/70 text-sm;
}

.content-teaser-meta-outside {
  @apply text-black/50 text-sm;
}

.fade-in-section {
  @apply opacity-0 translate-y-5 transition-opacity duration-500 ease-out;
}

.fade-in-section.is-visible {
  @apply opacity-100 translate-y-0;
}

.page-fade-enter-active,
.page-fade-leave-active {
  @apply transition-opacity duration-700;
}
.page-fade-enter-from,
.page-fade-leave-to {
  @apply opacity-0;
}
.page-fade-enter-to,
.page-fade-leave-from {
  @apply opacity-100;
}

figcaption {
  @apply font-mono text-sm mt-2 leading-normal mt-6 mb-12;
  color: var(--ui-color-dark);
}

/* ScrollingStory component text color overrides */
.scrolling-story p,
.scrolling-story h1,
.scrolling-story h2,
.scrolling-story h3,
.scrolling-story h4,
.scrolling-story h5,
.scrolling-story h6,
.scrolling-story blockquote,
.scrolling-story span,
.scrolling-story div {
  color: inherit;
  transition: color 0.5s ease-in-out;
}

/* Ensure custom text colors take precedence over global styles */
.scrolling-story [style*='color:'] p,
.scrolling-story [style*='color:'] h1,
.scrolling-story [style*='color:'] h2,
.scrolling-story [style*='color:'] h3,
.scrolling-story [style*='color:'] h4,
.scrolling-story [style*='color:'] h5,
.scrolling-story [style*='color:'] h6,
.scrolling-story [style*='color:'] blockquote,
.scrolling-story [style*='color:'] span,
.scrolling-story [style*='color:'] div {
  color: inherit !important;
}
